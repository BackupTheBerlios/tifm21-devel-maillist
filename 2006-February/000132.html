<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Tifm21-devel] SD driver class?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/tifm21-devel/2006-February/index.html" >
   <LINK REL="made" HREF="mailto:tifm21-devel%40lists.berlios.de?Subject=Re%3A%20%5BTifm21-devel%5D%20SD%20driver%20class%3F&In-Reply-To=%3C20060214153647.56580.qmail%40web36713.mail.mud.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000131.html">
   <LINK REL="Next"  HREF="000133.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Tifm21-devel] SD driver class?</H1>
    <B>Alex Dubov</B> 
    <A HREF="mailto:tifm21-devel%40lists.berlios.de?Subject=Re%3A%20%5BTifm21-devel%5D%20SD%20driver%20class%3F&In-Reply-To=%3C20060214153647.56580.qmail%40web36713.mail.mud.yahoo.com%3E"
       TITLE="[Tifm21-devel] SD driver class?">oakad at yahoo.com
       </A><BR>
    <I>Tue Feb 14 16:36:46 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000131.html">[Tifm21-devel] SD driver class?
</A></li>
        <LI>Next message: <A HREF="000133.html">[Tifm21-devel] SD driver class?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#132">[ date ]</a>
              <a href="thread.html#132">[ thread ]</a>
              <a href="subject.html#132">[ subject ]</a>
              <a href="author.html#132">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for the info. For some reason I can't contact
list.drzeus.cx (some network problem). I, however,
figured the solution from TI's implementors guide:
setpci -s 06:09.0 86.b=90:d0
(that is toggle bit 6 of register 86; bit 2 of
register 4c is supposed to disable MMC/SD flashmedia
interface). I had to force bus rescan using fakephp
too.

By the way, there is not much effort duplication in my
tifmxx code. As of now, it only contains pci
initialization and all kinds of hw access functions
for flashmedia MMC interface. When I started it I had
not a slightest idea on the code structure of TI
driver, so integration with MMC code seemed too
far-fetched (I could not identify access primitives
before rewriting of considerable amount of code).

Does anybody know what benefits can I get from
integration with MMC layer? Yes, it implements MMC
access state machine and common primitives, but those
hardly account for 20% of my MMC reveng code. I'm even
assuming that SDHCI will do a better job of accessing
SD cards, but it can not serve as a base for MS or xD
support, can it?
 

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
<A HREF="http://mail.yahoo.com">http://mail.yahoo.com</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000131.html">[Tifm21-devel] SD driver class?
</A></li>
	<LI>Next message: <A HREF="000133.html">[Tifm21-devel] SD driver class?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#132">[ date ]</a>
              <a href="thread.html#132">[ thread ]</a>
              <a href="subject.html#132">[ subject ]</a>
              <a href="author.html#132">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/tifm21-devel">More information about the Tifm21-devel
mailing list</a><br>
</body></html>
