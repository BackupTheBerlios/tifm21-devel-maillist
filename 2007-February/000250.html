<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Tifm21-devel] Still having card recognition problems with	2.6.20-git4 + tifm_sd.c.diff
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/tifm21-devel/2007-February/index.html" >
   <LINK REL="made" HREF="mailto:tifm21-devel%40lists.berlios.de?Subject=Re%3A%20%5BTifm21-devel%5D%20Still%20having%20card%20recognition%20problems%20with%0A%092.6.20-git4%20%2B%20tifm_sd.c.diff&In-Reply-To=%3C349901.16831.qm%40web36705.mail.mud.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000248.html">
   <LINK REL="Next"  HREF="000252.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Tifm21-devel] Still having card recognition problems with	2.6.20-git4 + tifm_sd.c.diff</H1>
    <B>Alex Dubov</B> 
    <A HREF="mailto:tifm21-devel%40lists.berlios.de?Subject=Re%3A%20%5BTifm21-devel%5D%20Still%20having%20card%20recognition%20problems%20with%0A%092.6.20-git4%20%2B%20tifm_sd.c.diff&In-Reply-To=%3C349901.16831.qm%40web36705.mail.mud.yahoo.com%3E"
       TITLE="[Tifm21-devel] Still having card recognition problems with	2.6.20-git4 + tifm_sd.c.diff">oakad at yahoo.com
       </A><BR>
    <I>Mon Feb 12 12:42:05 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000248.html">[Tifm21-devel] Still having card recognition problems with	2.6.20-git4 + tifm_sd.c.diff
</A></li>
        <LI>Next message: <A HREF="000252.html">[Tifm21-devel] Still having card recognition problems with	2.6.20-git4 + tifm_sd.c.diff
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#250">[ date ]</a>
              <a href="thread.html#250">[ thread ]</a>
              <a href="subject.html#250">[ subject ]</a>
              <a href="author.html#250">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
--- Brad Campbell &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/tifm21-devel">brad at wasp.net.au</A>&gt; wrote:

&gt;<i> I did have this kernel and module combination working for reads, but after 2 or 3 write attempts
</I>&gt;<i> 
</I>&gt;<i> blowing up it just flatly refuses to acknowledge the card aside from the below logs. This was
</I>&gt;<i> after 
</I>&gt;<i> a fresh compile with -DDEBUG enabled and several cold-boot attempts.
</I>&gt;<i> 
</I>&gt;<i> For reference I've attached the tifm_sd.c from the kernel as compiled/installed.
</I>&gt;<i> 
</I>&gt;<i> Here is the debug log from insertion of a 2G SD card (this is not the card you suspect is SDHC
</I>
To my understanding, anything that responds to CMD8 is SDHC (even if it's smaller than 4GB). This
makes even more sense considering that many lower capacity chips are really laser trimmed higher 
capacity ones (you can see for yourself - host_status 1 means command succeeded, and 80 means
timed-out). Of course, one doesn't have to use SDHC-specific commands to access data below 4GB.

Now, non SDHC card should benefit from the latest patch to tifm_sd
(<A HREF="http://www.kernel.org/git/?p=linux/kernel/git/drzeus/mmc.git;a=commitdiff;h=12c834527b85571792f1c4f1d12632185bea44c2">http://www.kernel.org/git/?p=linux/kernel/git/drzeus/mmc.git;a=commitdiff;h=12c834527b85571792f1c4f1d12632185bea44c2</A>)
 - I see it gets one (host_status == 4000).
I'm not sure yet what's happening with the other two.



 
____________________________________________________________________________________
Expecting? Get great news right away with email Auto-Check. 
Try the Yahoo! Mail Beta.
<A HREF="http://advision.webevents.yahoo.com/mailbeta/newmail_tools.html">http://advision.webevents.yahoo.com/mailbeta/newmail_tools.html</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000248.html">[Tifm21-devel] Still having card recognition problems with	2.6.20-git4 + tifm_sd.c.diff
</A></li>
	<LI>Next message: <A HREF="000252.html">[Tifm21-devel] Still having card recognition problems with	2.6.20-git4 + tifm_sd.c.diff
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#250">[ date ]</a>
              <a href="thread.html#250">[ thread ]</a>
              <a href="subject.html#250">[ subject ]</a>
              <a href="author.html#250">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/tifm21-devel">More information about the Tifm21-devel
mailing list</a><br>
</body></html>
